<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns="http://www.springframework.org/schema/beans"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="myRealm1" class="shiro.MyRealm1"/>

    <!-- 配置SecurityManager的管理 -->
    <bean id="securityManager" class="org.apache.shiro.web.mgt.DefaultWebSecurityManager">
        <!-- 配置需要使用的Realms -->
        <property name="realm" ref="myRealm1"/>
    </bean>

    <!-- 配置shiro过滤器 -->
    <bean id="shiroFilter" class="org.apache.shiro.spring.web.ShiroFilterFactoryBean">
        <!-- 配置一个安全管理器 -->
        <property name="securityManager" ref="securityManager"/>
        <!-- 出现错误之后的跳转路径配置 -->
        <property name="loginUrl" value="/admin/login"/>
        <!-- 认证失败之后的跳转路径页面 -->
        <property name="unauthorizedUrl" value="/shiro/message"/>
        <!-- 自定义一个类，动态为路径添加角色权限等信息 -->
        <property name="filterChainDefinitionMap" ref="chainDefinitionSectionMetaSource" />
    </bean>
    <bean id="chainDefinitionSectionMetaSource" class="shiro.ChainDefinitionSectionMetaSource">

        <property name="filterChainDefinitions">
            <value>
                /shiro/addRole=authc,roles[role1],perms[add1]
                /shiro/deleteRole=authc,roles[role3],perms[delete3]
            </value>
        </property>
    </bean>

</beans>